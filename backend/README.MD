# Backend

## Recursos utilizados

- Docker (Containeriza√ß√£o e isolamento do ambiente de desenvolvimento)
- Zod (Valida√ß√£o de schemas e tipos em tempo de execu√ß√£o)
- Node.js (Ambiente de execu√ß√£o Javascript server-side)
- Typescript (Superset do Javascript com tipagem est√°tica)
- Prisma (ORM para banco de dados com suporte a migrations e modelagem)
- PostgresSQL (Sistema de gerenciamento de banco de dados relacional)
- Fastify (Framework web r√°pido e eficiente para Node.js)

## ‚úÖ Checklist de Requisitos Funcionais

### üß† Backend

- [x] **Autentica√ß√£o de usu√°rios** (login)
- [x] L√≥gica para permitir reservas **somente das 18:00 √†s 23:59**, exceto **aos domingos**
- [x] Valida√ß√£o para evitar **conflito de hor√°rios** entre reservas
- [x] Persist√™ncia de dados com banco de dados **relacional**
- [x] Endpoints/API para:
  - [x] Login
  - [x] Cadastro
  - [x] Criar reserva
  - [x] Listar reservas (para painel admin e usu√°rios)
  - [x] Cancelar reservas
- [x] Popular o banco de dados com dados de teste (manualmente ou via **seeds/factories**)

## Para rodar a aplica√ß√£o localmente

1. Instale as dependencias;

```bash
npm install
```

2. Abra o docker, e encerre todos conteiners que estiver ativo;
3. Com o terminal aberto digite o comando para iniciar o container docker:

```bash
docker start reserva-restaurante
```

3.1 Realiza a migra√ß√£o do banco

```bash
npx prisma migrate
```

4. Abra outro terminal para iniciar o banco de dados;

```bash
npm run dev
```

5. Abra outro terminal para criar as mesas caso n√£o tenha nenhuma cadastrada
   **Insere no banco 15 mesas**

```bash
npm run seed
```

6. Caso queira ver o banco de dados online

```bash
npx prisma studio
```

7. Caso deseja apenas testar as rotas com requisi√ß√µes pelo Postman, na raiz deste projeto possui o arquivo ''reserva-restaurante-collection.json'' onde contem toda collection necessaria.

Obs: Localmente o banco roda no localhost:3333, o docker no localhost:5432, se atende para que antes de rodar o projeto, essas portas estejam livres.
